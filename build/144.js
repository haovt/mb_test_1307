webpackJsonp([144],{1975:function(n,l,e){"use strict";function View_AddonBadgesUserBadgesPage_1(n){return a._42(0,[(n()(),a._16(0,0,null,null,3,"core-empty-box",[["icon","trophy"]],null,null,null,V.b,V.a)),a._15(1,49152,null,0,T.a,[],{message:[0,"message"],icon:[1,"icon"]},null),a._32(131072,$.a,[k.a,a.i]),(n()(),a._40(-1,0,["\n            "]))],function(n,l){n(l,1,0,a._41(l,1,0,a._29(l,2).transform("addon.badges.nobadges")),"trophy")},null)}function View_AddonBadgesUserBadgesPage_4(n){return a._42(0,[(n()(),a._16(0,0,null,null,3,"ion-badge",[["color","danger"],["item-end",""]],null,null,null,null,null)),a._15(1,16384,null,0,K.a,[L.a,a.p,a.K],{color:[0,"color"]},null),(n()(),a._40(2,null,["\n                        ","\n                    "])),a._32(131072,$.a,[k.a,a.i])],function(n,l){n(l,1,0,"danger")},function(n,l){n(l,2,0,a._41(l,2,0,a._29(l,3).transform("addon.badges.expired")))})}function View_AddonBadgesUserBadgesPage_3(n){return a._42(0,[(n()(),a._16(0,0,null,null,23,"a",[["class","item item-block"],["ion-item",""],["text-wrap",""]],[[8,"title",0],[2,"core-split-item-selected",null]],[[null,"click"]],function(n,l,e){var a=!0;if("click"===l){a=!1!==n.component.loadIssuedBadge(n.context.$implicit.uniquehash)&&a}return a},H.b,H.a)),a._15(1,1097728,null,3,R.a,[C.a,L.a,a.p,a.K,[2,D.a]],null,null),a._37(335544320,3,{contentLabel:0}),a._37(603979776,4,{_buttons:1}),a._37(603979776,5,{_icons:1}),a._15(5,16384,null,0,M.a,[],null,null),(n()(),a._40(-1,2,["\n                    "])),(n()(),a._16(7,0,null,0,5,"ion-avatar",[["item-start",""]],null,null,null,null,null)),a._15(8,16384,null,0,O.a,[],null,null),(n()(),a._40(-1,null,["\n                        "])),(n()(),a._16(10,0,null,null,1,"img",[["core-external-content",""],["item-start",""]],[[8,"alt",0]],null,null,null,null)),a._15(11,4734976,null,0,W.a,[a.p,q.a,F.a,j.a,_.a,r.a,E.a,J.a,N.a],{src:[0,"src"]},null),(n()(),a._40(-1,null,["\n                    "])),(n()(),a._40(-1,2,["\n                    "])),(n()(),a._16(14,0,null,2,1,"h2",[],null,null,null,null,null)),(n()(),a._40(15,null,["",""])),(n()(),a._40(-1,2,["\n                    "])),(n()(),a._16(17,0,null,2,2,"p",[],null,null,null,null,null)),(n()(),a._40(18,null,["",""])),a._34(19,2),(n()(),a._40(-1,2,["\n                    "])),(n()(),a._11(16777216,null,4,1,null,View_AddonBadgesUserBadgesPage_4)),a._15(22,16384,null,0,S.k,[a.W,a.T],{ngIf:[0,"ngIf"]},null),(n()(),a._40(-1,2,["\n                "]))],function(n,l){var e=l.component;n(l,11,0,l.context.$implicit.badgeurl);n(l,22,0,l.context.$implicit.dateexpire&&e.currentTime>=l.context.$implicit.dateexpire)},function(n,l){n(l,0,0,l.context.$implicit.name,l.context.$implicit.uniquehash==l.component.badgeHash);n(l,10,0,l.context.$implicit.name);n(l,15,0,l.context.$implicit.name);n(l,18,0,a._41(l,18,0,n(l,19,0,a._29(l.parent.parent,0),1e3*l.context.$implicit.dateissued,"strftimedatetimeshort")))})}function View_AddonBadgesUserBadgesPage_2(n){return a._42(0,[(n()(),a._16(0,0,null,null,5,"ion-list",[["no-margin",""]],null,null,null,null,null)),a._15(1,16384,null,0,z.a,[L.a,a.p,a.K,j.a,G.l,Q.a],null,null),(n()(),a._40(-1,null,["\n                "])),(n()(),a._11(16777216,null,null,1,null,View_AddonBadgesUserBadgesPage_3)),a._15(4,802816,null,0,S.j,[a.W,a.T,a.v],{ngForOf:[0,"ngForOf"]},null),(n()(),a._40(-1,null,["\n            "]))],function(n,l){n(l,4,0,l.component.badges)},null)}function View_AddonBadgesUserBadgesPage_0(n){return a._42(0,[a._32(0,X.a,[q.a,o.a]),a._37(402653184,1,{content:0}),a._37(402653184,2,{splitviewCtrl:0}),(n()(),a._16(3,0,null,null,12,"ion-header",[],null,null,null,null,null)),a._15(4,16384,null,0,Y.a,[L.a,a.p,a.K,[2,Z.a]],null,null),(n()(),a._40(-1,null,["\n    "])),(n()(),a._16(6,0,null,null,8,"ion-navbar",[["class","toolbar"],["core-back-button",""]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,nn.b,nn.a)),a._15(7,49152,null,0,ln.a,[en.a,[2,Z.a],[2,an.a],L.a,a.p,a.K],null,null),a._15(8,212992,null,0,un.a,[ln.a,j.a,k.a,tn.a],null,null),(n()(),a._40(-1,3,["\n        "])),(n()(),a._16(10,0,null,3,3,"ion-title",[],null,null,null,sn.b,sn.a)),a._15(11,49152,null,0,dn.a,[L.a,a.p,a.K,[2,on.a],[2,ln.a]],null,null),(n()(),a._40(12,0,["",""])),a._32(131072,$.a,[k.a,a.i]),(n()(),a._40(-1,3,["\n    "])),(n()(),a._40(-1,null,["\n"])),(n()(),a._40(-1,null,["\n"])),(n()(),a._16(17,0,null,null,24,"core-split-view",[],null,null,null,rn.b,rn.a)),a._15(18,245760,[[2,4]],0,g.a,[[2,an.a],a.p,_n.a,j.a,k.a],null,null),(n()(),a._40(-1,0,["\n    "])),(n()(),a._16(20,0,null,0,20,"ion-content",[],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,gn.b,gn.a)),a._15(21,4374528,[[1,4]],0,cn.a,[L.a,j.a,Q.a,a.p,a.K,en.a,bn.a,a.D,[2,Z.a],[2,an.a]],null,null),(n()(),a._40(-1,1,["\n        "])),(n()(),a._16(23,0,null,2,6,"ion-refresher",[],[[2,"refresher-active",null],[4,"top",null]],[[null,"ionRefresh"]],function(n,l,e){var a=!0;if("ionRefresh"===l){a=!1!==n.component.refreshBadges(e)&&a}return a},null,null)),a._15(24,212992,null,0,fn.a,[j.a,cn.a,a.D,G.l],{enabled:[0,"enabled"]},{ionRefresh:"ionRefresh"}),(n()(),a._40(-1,null,["\n            "])),(n()(),a._16(26,0,null,null,2,"ion-refresher-content",[],[[1,"state",0]],null,null,hn.b,hn.a)),a._15(27,114688,null,0,pn.a,[fn.a,L.a],{pullingText:[0,"pullingText"]},null),a._32(131072,$.a,[k.a,a.i]),(n()(),a._40(-1,null,["\n        "])),(n()(),a._40(-1,1,["\n        "])),(n()(),a._16(31,0,null,1,8,"core-loading",[],null,null,null,Bn.b,Bn.a)),a._15(32,638976,null,0,mn.a,[k.a,a.p,tn.a,N.a],{hideUntil:[0,"hideUntil"]},null),(n()(),a._40(-1,0,["\n            "])),(n()(),a._11(16777216,null,0,1,null,View_AddonBadgesUserBadgesPage_1)),a._15(35,16384,null,0,S.k,[a.W,a.T],{ngIf:[0,"ngIf"]},null),(n()(),a._40(-1,0,["\n\n            "])),(n()(),a._11(16777216,null,0,1,null,View_AddonBadgesUserBadgesPage_2)),a._15(38,16384,null,0,S.k,[a.W,a.T],{ngIf:[0,"ngIf"]},null),(n()(),a._40(-1,0,["\n        "])),(n()(),a._40(-1,1,["\n    "])),(n()(),a._40(-1,0,["\n"]))],function(n,l){var e=l.component;n(l,8,0),n(l,18,0);n(l,24,0,e.badgesLoaded);n(l,27,0,a._19(1,"",a._41(l,27,0,a._29(l,28).transform("core.pulltorefresh")),""));n(l,32,0,e.badgesLoaded);n(l,35,0,!e.badges||0==e.badges.length);n(l,38,0,e.badges&&e.badges.length)},function(n,l){n(l,6,0,a._29(l,7)._hidden,a._29(l,7)._sbPadding);n(l,12,0,a._41(l,12,0,a._29(l,13).transform("addon.badges.badges")));n(l,20,0,a._29(l,21).statusbarPadding,a._29(l,21)._hasRefresher);n(l,23,0,"inactive"!==a._29(l,24).state,a._29(l,24)._top);n(l,26,0,a._29(l,27).r.state)})}Object.defineProperty(l,"__esModule",{value:!0});var a=e(1),u=(e(0),e(6),e(4)),t=e(27),s=e(33),d=e(107),i=e(284),o=e(25),r=e(5),_=e(2),g=e(29),c=function(){function AddonBadgesUserBadgesPage(n,l,e,a,u){this.badgesProvider=e,this.domUtils=a,this.timeUtils=u,this.badgesLoaded=!1,this.badges=[],this.currentTime=0,this.courseId=n.get("courseId")||0,this.userId=n.get("userId")||l.getCurrentSite().getUserId()}return AddonBadgesUserBadgesPage.prototype.ionViewDidLoad=function(){var n=this;this.fetchBadges().finally(function(){!n.badgeHash&&n.splitviewCtrl.isOn()&&n.badges.length>0&&n.loadIssuedBadge(n.badges[0].uniquehash),n.badgesLoaded=!0})},AddonBadgesUserBadgesPage.prototype.fetchBadges=function(){var n=this;return this.currentTime=this.timeUtils.timestamp(),this.badgesProvider.getUserBadges(this.courseId,this.userId).then(function(l){n.badges=l}).catch(function(l){n.domUtils.showErrorModalDefault(l,"Error getting badges data.")})},AddonBadgesUserBadgesPage.prototype.refreshBadges=function(n){var l=this;this.badgesProvider.invalidateUserBadges(this.courseId,this.userId).finally(function(){l.fetchBadges().finally(function(){n.complete()})})},AddonBadgesUserBadgesPage.prototype.loadIssuedBadge=function(n){this.badgeHash=n;this.splitviewCtrl.push("AddonBadgesIssuedBadgePage",{courseId:this.courseId,userId:this.userId,badgeHash:n})},AddonBadgesUserBadgesPage}(),b=function(){return function AddonBadgesUserBadgesPageModule(){}}(),f=e(1522),h=e(1523),p=e(1524),B=e(1525),m=e(1526),U=e(1527),v=e(1528),P=e(1529),I=e(1530),w=e(1531),x=e(1532),A=e(1533),y=e(1534),V=e(125),T=e(115),$=e(26),k=e(19),K=e(144),L=e(9),H=e(32),R=e(22),C=e(20),D=e(28),M=e(34),O=e(161),W=e(229),q=e(7),F=e(18),j=e(17),E=e(23),J=e(11),N=e(3),S=e(8),z=e(87),G=e(45),Q=e(35),X=e(228),Y=e(371),Z=e(40),nn=e(723),ln=e(212),en=e(36),an=e(21),un=e(473),tn=e(10),sn=e(724),dn=e(314),on=e(247),rn=e(474),_n=e(73),gn=e(182),cn=e(30),bn=e(108),fn=e(160),hn=e(213),pn=e(174),Bn=e(55),mn=e(52),Un=e(70),vn=a._14({encapsulation:2,styles:[],data:{}}),Pn=a._12("page-addon-badges-user-badges",c,function View_AddonBadgesUserBadgesPage_Host_0(n){return a._42(0,[(n()(),a._16(0,0,null,null,1,"page-addon-badges-user-badges",[],null,null,null,View_AddonBadgesUserBadgesPage_0,vn)),a._15(1,49152,null,0,c,[Un.a,_.a,i.a,r.a,o.a],null,null)],null,null)},{},{},[]),In=e(24),wn=e(367),xn=e(368),An=e(370),yn=e(369),Vn=e(472),Tn=e(722),$n=e(270);e.d(l,"AddonBadgesUserBadgesPageModuleNgFactory",function(){return kn});var kn=a._13(b,[],function(n){return a._25([a._26(512,a.n,a._6,[[8,[f.a,h.a,p.a,B.a,m.a,U.a,v.a,P.a,I.a,w.a,x.a,A.a,y.a,Pn]],[3,a.n],a.B]),a._26(4608,S.m,S.l,[a.x,[2,S.w]]),a._26(4608,In.x,In.x,[]),a._26(4608,In.d,In.d,[]),a._26(4608,wn.b,wn.a,[]),a._26(4608,xn.a,xn.b,[]),a._26(4608,An.b,An.a,[]),a._26(4608,yn.b,yn.a,[]),a._26(4608,k.a,k.a,[Vn.a,wn.b,xn.a,An.b,yn.b,k.b,k.c]),a._26(512,S.b,S.b,[]),a._26(512,In.v,In.v,[]),a._26(512,In.i,In.i,[]),a._26(512,In.s,In.s,[]),a._26(512,Tn.a,Tn.a,[]),a._26(512,u.a,u.a,[]),a._26(512,s.a,s.a,[]),a._26(512,d.a,d.a,[]),a._26(512,t.a,t.a,[]),a._26(512,Tn.b,Tn.b,[]),a._26(512,b,b,[]),a._26(256,k.c,void 0,[]),a._26(256,k.b,void 0,[]),a._26(256,$n.a,c,[])])})}});