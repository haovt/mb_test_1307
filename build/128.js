webpackJsonp([128],{1986:function(n,e,l){"use strict";function View_AddonMessageOutputAirnotifierDevicesPage_2(n){return i._42(0,[(n()(),i._16(0,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),i._40(1,null,["(",")"])),i._32(131072,y.a,[x.a,i.i])],null,function(n,e){n(e,1,0,i._41(e,1,0,i._29(e,2).transform("core.currentdevice")))})}function View_AddonMessageOutputAirnotifierDevicesPage_3(n){return i._42(0,[(n()(),i._16(0,0,null,null,1,"ion-spinner",[["item-end",""]],[[2,"spinner-paused",null]],null,null,w.b,w.a)),i._15(1,114688,null,0,T.a,[C.a,i.p,i.K],null,null)],function(n,e){n(e,1,0)},function(n,e){n(e,0,0,i._29(e,1)._paused)})}function View_AddonMessageOutputAirnotifierDevicesPage_1(n){return i._42(0,[(n()(),i._16(0,0,null,null,23,"ion-item",[["class","item item-block"],["text-wrap",""]],null,null,null,V.b,V.a)),i._15(1,1097728,null,3,U.a,[$.a,C.a,i.p,i.K,[2,k.a]],null,null),i._37(335544320,1,{contentLabel:0}),i._37(603979776,2,{_buttons:1}),i._37(603979776,3,{_icons:1}),i._15(5,16384,null,0,K.a,[],null,null),(n()(),i._40(-1,2,["\n                "])),(n()(),i._16(7,0,null,1,5,"ion-label",[],[[2,"core-bold",null]],null,null,null,null)),i._15(8,16384,[[1,4]],0,I.a,[C.a,i.p,i.K,[8,null],[8,null],[8,null],[8,null]],null,null),(n()(),i._40(9,null,["\n                    ","\n                    "])),(n()(),i._11(16777216,null,null,1,null,View_AddonMessageOutputAirnotifierDevicesPage_2)),i._15(11,16384,null,0,L.k,[i.W,i.T],{ngIf:[0,"ngIf"]},null),(n()(),i._40(-1,null,["\n                "])),(n()(),i._40(-1,2,["\n                "])),(n()(),i._11(16777216,null,4,1,null,View_AddonMessageOutputAirnotifierDevicesPage_3)),i._15(15,16384,null,0,L.k,[i.W,i.T],{ngIf:[0,"ngIf"]},null),(n()(),i._40(-1,2,["\n                "])),(n()(),i._16(17,0,null,4,5,"ion-toggle",[],[[2,"toggle-disabled",null],[2,"toggle-checked",null],[2,"toggle-activated",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keyup"]],function(n,e,l){var u=!0,t=n.component;if("keyup"===e){u=!1!==i._29(n,18)._keyup(l)&&u}if("ngModelChange"===e){u=!1!==(n.context.$implicit.enable=l)&&u}if("ngModelChange"===e){u=!1!==t.enableDevice(n.context.$implicit,n.context.$implicit.enable)&&u}return u},R.b,R.a)),i._15(18,1228800,null,0,E.a,[$.a,C.a,F.a,i.p,i.K,N.a,[2,U.a],W.l,j.a,i.D],{disabled:[0,"disabled"]},null),i._35(1024,null,q.l,function(n){return[n]},[E.a]),i._15(20,671744,null,0,q.q,[[8,null],[8,null],[8,null],[2,q.l]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),i._35(2048,null,q.m,null,[q.q]),i._15(22,16384,null,0,q.n,[q.m],null,null),(n()(),i._40(-1,2,["\n            "]))],function(n,e){n(e,11,0,e.context.$implicit.current);n(e,15,0,e.context.$implicit.updating);n(e,18,0,e.context.$implicit.updating);n(e,20,0,e.context.$implicit.updating,e.context.$implicit.enable)},function(n,e){n(e,7,0,e.context.$implicit.current);n(e,9,0,e.context.$implicit.model);n(e,17,0,i._29(e,18)._disabled,i._29(e,18)._value,i._29(e,18)._activated,i._29(e,22).ngClassUntouched,i._29(e,22).ngClassTouched,i._29(e,22).ngClassPristine,i._29(e,22).ngClassDirty,i._29(e,22).ngClassValid,i._29(e,22).ngClassInvalid,i._29(e,22).ngClassPending)})}function View_AddonMessageOutputAirnotifierDevicesPage_0(n){return i._42(0,[(n()(),i._16(0,0,null,null,12,"ion-header",[],null,null,null,null,null)),i._15(1,16384,null,0,B.a,[C.a,i.p,i.K,[2,H.a]],null,null),(n()(),i._40(-1,null,["\n    "])),(n()(),i._16(3,0,null,null,8,"ion-navbar",[["class","toolbar"],["core-back-button",""]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,J.b,J.a)),i._15(4,49152,null,0,z.a,[G.a,[2,H.a],[2,Q.a],C.a,i.p,i.K],null,null),i._15(5,212992,null,0,S.a,[z.a,F.a,x.a,X.a],null,null),(n()(),i._40(-1,3,["\n        "])),(n()(),i._16(7,0,null,3,3,"ion-title",[],null,null,null,Y.b,Y.a)),i._15(8,49152,null,0,Z.a,[C.a,i.p,i.K,[2,nn.a],[2,z.a]],null,null),(n()(),i._40(9,0,["",""])),i._32(131072,y.a,[x.a,i.i]),(n()(),i._40(-1,3,["\n    "])),(n()(),i._40(-1,null,["\n"])),(n()(),i._40(-1,null,["\n"])),(n()(),i._16(14,0,null,null,21,"ion-content",[],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,en.b,en.a)),i._15(15,4374528,null,0,ln.a,[C.a,F.a,j.a,i.p,i.K,G.a,un.a,i.D,[2,H.a],[2,Q.a]],null,null),(n()(),i._40(-1,1,["\n    "])),(n()(),i._16(17,0,null,2,6,"ion-refresher",[],[[2,"refresher-active",null],[4,"top",null]],[[null,"ionRefresh"]],function(n,e,l){var i=!0;if("ionRefresh"===e){i=!1!==n.component.refreshDevices(l)&&i}return i},null,null)),i._15(18,212992,null,0,tn.a,[F.a,ln.a,i.D,W.l],{enabled:[0,"enabled"]},{ionRefresh:"ionRefresh"}),(n()(),i._40(-1,null,["\n        "])),(n()(),i._16(20,0,null,null,2,"ion-refresher-content",[],[[1,"state",0]],null,null,an.b,an.a)),i._15(21,114688,null,0,on.a,[tn.a,C.a],{pullingText:[0,"pullingText"]},null),i._32(131072,y.a,[x.a,i.i]),(n()(),i._40(-1,null,["\n    "])),(n()(),i._40(-1,1,["\n    "])),(n()(),i._16(25,0,null,1,9,"core-loading",[],null,null,null,sn.b,sn.a)),i._15(26,638976,null,0,rn.a,[x.a,i.p,X.a,dn.a],{hideUntil:[0,"hideUntil"]},null),(n()(),i._40(-1,0,["\n        "])),(n()(),i._16(28,0,null,0,5,"ion-list",[],null,null,null,null,null)),i._15(29,16384,null,0,_n.a,[C.a,i.p,i.K,F.a,W.l,j.a],null,null),(n()(),i._40(-1,null,["\n            "])),(n()(),i._11(16777216,null,null,1,null,View_AddonMessageOutputAirnotifierDevicesPage_1)),i._15(32,802816,null,0,L.j,[i.W,i.T,i.v],{ngForOf:[0,"ngForOf"]},null),(n()(),i._40(-1,null,["\n        "])),(n()(),i._40(-1,0,["\n    "])),(n()(),i._40(-1,1,["\n"])),(n()(),i._40(-1,null,["\n"]))],function(n,e){var l=e.component;n(e,5,0);n(e,18,0,l.devicesLoaded);n(e,21,0,i._19(1,"",i._41(e,21,0,i._29(e,22).transform("core.pulltorefresh")),""));n(e,26,0,l.devicesLoaded);n(e,32,0,l.devices)},function(n,e){n(e,3,0,i._29(e,4)._hidden,i._29(e,4)._sbPadding);n(e,9,0,i._41(e,9,0,i._29(e,10).transform("addon.messageoutput_airnotifier.processorsettingsdesc")));n(e,14,0,i._29(e,15).statusbarPadding,i._29(e,15)._hasRefresher);n(e,17,0,"inactive"!==i._29(e,18).state,i._29(e,18)._top);n(e,20,0,i._29(e,21).r.state)})}Object.defineProperty(e,"__esModule",{value:!0});var i=l(1),u=(l(0),l(6),l(4)),t=l(27),a=l(33),o=l(5),s=l(137),r=l(495),d=function(){function AddonMessageOutputAirnotifierDevicesPage(n,e,l){this.domUtils=n,this.airnotifierProivder=e,this.pushNotificationsProvider=l,this.devices=[],this.devicesLoaded=!1}return AddonMessageOutputAirnotifierDevicesPage.prototype.ionViewDidLoad=function(){this.fetchDevices()},AddonMessageOutputAirnotifierDevicesPage.prototype.fetchDevices=function(){var n=this;return this.airnotifierProivder.getUserDevices().then(function(e){var l=n.pushNotificationsProvider.getPushId();e.forEach(function(n){n.enable=!!n.enable,n.current=l&&l==n.pushid}),n.devices=e}).catch(function(e){n.domUtils.showErrorModal(e)}).finally(function(){n.devicesLoaded=!0})},AddonMessageOutputAirnotifierDevicesPage.prototype.updateDevicesAfterDelay=function(){var n=this;this.updateTimeout&&clearTimeout(this.updateTimeout),this.updateTimeout=setTimeout(function(){n.updateTimeout=null,n.updateDevices()},5e3)},AddonMessageOutputAirnotifierDevicesPage.prototype.updateDevices=function(){var n=this;this.airnotifierProivder.invalidateUserDevices().finally(function(){n.airnotifierProivder.getUserDevices()})},AddonMessageOutputAirnotifierDevicesPage.prototype.refreshDevices=function(n){var e=this;this.airnotifierProivder.invalidateUserDevices().finally(function(){e.fetchDevices().finally(function(){n.complete()})})},AddonMessageOutputAirnotifierDevicesPage.prototype.enableDevice=function(n,e){var l=this;n.updating=!0,this.airnotifierProivder.enableDevice(n.id,e).then(function(){l.updateDevicesAfterDelay()}).catch(function(e){l.domUtils.showErrorModal(e),n.enable=!n.enable}).finally(function(){n.updating=!1})},AddonMessageOutputAirnotifierDevicesPage.prototype.ngOnDestroy=function(){this.updateTimeout&&(clearTimeout(this.updateTimeout),this.updateDevices())},AddonMessageOutputAirnotifierDevicesPage}(),_=function(){return function AddonMessageOutputAirnotifierDevicesPageModule(){}}(),c=l(1522),f=l(1523),p=l(1524),g=l(1525),v=l(1526),h=l(1527),b=l(1528),D=l(1529),m=l(1530),A=l(1531),P=l(1532),M=l(1533),O=l(1534),y=l(26),x=l(19),w=l(122),T=l(102),C=l(9),V=l(32),U=l(22),$=l(20),k=l(28),K=l(34),I=l(68),L=l(8),R=l(726),E=l(316),F=l(17),N=l(188),W=l(45),j=l(35),q=l(24),B=l(371),H=l(40),J=l(723),z=l(212),G=l(36),Q=l(21),S=l(473),X=l(10),Y=l(724),Z=l(314),nn=l(247),en=l(182),ln=l(30),un=l(108),tn=l(160),an=l(213),on=l(174),sn=l(55),rn=l(52),dn=l(3),_n=l(87),cn=i._14({encapsulation:2,styles:[],data:{}}),fn=i._12("page-addon-message-output-airnotifier-devices",d,function View_AddonMessageOutputAirnotifierDevicesPage_Host_0(n){return i._42(0,[(n()(),i._16(0,0,null,null,1,"page-addon-message-output-airnotifier-devices",[],null,null,null,View_AddonMessageOutputAirnotifierDevicesPage_0,cn)),i._15(1,180224,null,0,d,[o.a,r.a,s.a],null,null)],null,null)},{},{},[]),pn=l(367),gn=l(368),vn=l(370),hn=l(369),bn=l(472),Dn=l(722),mn=l(107),An=l(270);l.d(e,"AddonMessageOutputAirnotifierDevicesPageModuleNgFactory",function(){return Pn});var Pn=i._13(_,[],function(n){return i._25([i._26(512,i.n,i._6,[[8,[c.a,f.a,p.a,g.a,v.a,h.a,b.a,D.a,m.a,A.a,P.a,M.a,O.a,fn]],[3,i.n],i.B]),i._26(4608,L.m,L.l,[i.x,[2,L.w]]),i._26(4608,q.x,q.x,[]),i._26(4608,q.d,q.d,[]),i._26(4608,pn.b,pn.a,[]),i._26(4608,gn.a,gn.b,[]),i._26(4608,vn.b,vn.a,[]),i._26(4608,hn.b,hn.a,[]),i._26(4608,x.a,x.a,[bn.a,pn.b,gn.a,vn.b,hn.b,x.b,x.c]),i._26(512,L.b,L.b,[]),i._26(512,q.v,q.v,[]),i._26(512,q.i,q.i,[]),i._26(512,q.s,q.s,[]),i._26(512,Dn.a,Dn.a,[]),i._26(512,u.a,u.a,[]),i._26(512,a.a,a.a,[]),i._26(512,mn.a,mn.a,[]),i._26(512,t.a,t.a,[]),i._26(512,Dn.b,Dn.b,[]),i._26(512,_,_,[]),i._26(256,x.c,void 0,[]),i._26(256,x.b,void 0,[]),i._26(256,An.a,d,[])])})}});